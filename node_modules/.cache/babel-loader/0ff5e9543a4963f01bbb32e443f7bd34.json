{"ast":null,"code":"var _jsxFileName = \"/Users/junaidsaleem/Desktop/weatherApp/weather/React/src/components/WeatherComponent.js\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport Container from 'react-bootstrap/Container';\nimport Header from './header';\nimport Footer from './footer';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport BarChart from 'react-bar-chart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass WeatherMain extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = selected => {\n      this.setState({\n        selectedOption: selected\n      });\n    };\n\n    this.state = {\n      locationData: [],\n      temperatureData: [],\n      apiKey: 'A43x9TpjZ8ukNRKtJWvNJ1QQNFSbsntw',\n      error: null,\n      citiesData: [],\n      viewSelect: false,\n      selectedOption: null,\n      dailyForecast: null,\n      weeklyForecast: null,\n      apiCalled: true,\n      width: 400,\n      chartData: [{\n        text: 'Minimum Temperature',\n        value: 0\n      }, {\n        text: 'Maximum Temperature',\n        value: 0\n      }],\n      weeklyData: []\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.getDayData = this.getDayData.bind(this);\n    this.getWeeklyData = this.getWeeklyData.bind(this);\n    this.jsonData = null;\n  }\n\n  render() {\n    const margin = {\n      top: 20,\n      right: 0,\n      bottom: 30,\n      left: 40\n    };\n    const weeklyForecastList = this.state.weeklyData.map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"Date: \", d.date]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"Minimum: \", d.minimum, \"F\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"Maximum: \", d.maximum, \"F\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-md-center\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"4\",\n            children: /*#__PURE__*/_jsxDEV(Select, {\n              placeholder: \"Search a city\",\n              options: this.state.citiesData,\n              onInputChange: this.handleInputChange,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-md-center\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"4\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \" Daily Temperature Graph\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), this.getDayData(), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-md-center\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"4\",\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              ylabel: \"Daily Forecast in F\",\n              width: this.state.width,\n              height: 500,\n              margin: margin,\n              data: this.state.chartData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-md-center\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"4\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \" Weekly Forecast\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-md-center\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"4\",\n            children: weeklyForecastList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n  getWeeklyData() {\n    const data = this.jsonData;\n    let max = null,\n        min = null;\n\n    if (this.state.selectedOption != null) {\n      const city = data[this.state.selectedOption.value].Key;\n      fetch(\"http://dataservice.accuweather.com/forecasts/v1/daily/5day/\" + city + \"?apikey=\" + this.state.apiKey + \"&language=en-us\").then(res => res.json()).then(result => {\n        this.setState({\n          weeklyForecast: result\n        });\n        const data = this.state.weeklyForecast;\n\n        if (data != null) {\n          for (let i = 0; i < data.DailyForecasts.length && this.state.weeklyData.length < 5; i++) {\n            min = data.DailyForecasts[i].Temperature.Minimum.Value;\n            max = data.DailyForecasts[i].Temperature.Maximum.Value;\n            let dateObj = new Date(data.DailyForecasts[i].Date);\n            this.state.weeklyData.push({\n              minimum: min,\n              maximum: max,\n              date: dateObj.toDateString()\n            });\n          }\n\n          console.log(this.state.weeklyData);\n        }\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    }\n  }\n\n  getDayData() {\n    const data = this.jsonData;\n    let max = null,\n        min = null;\n\n    if (this.state.selectedOption != null && this.state.apiCalled) {\n      const city = data[this.state.selectedOption.value].Key;\n      fetch(\"http://dataservice.accuweather.com/forecasts/v1/daily/1day/\" + city + \"?apikey=\" + this.state.apiKey + \"&language=en-us\").then(res => res.json()).then(result => {\n        this.setState({\n          dailyForecast: result\n        });\n        const data = this.state.dailyForecast;\n\n        if (data != null) {\n          min = data.DailyForecasts[0].Temperature.Minimum.Value;\n          max = data.DailyForecasts[0].Temperature.Maximum.Value;\n        }\n\n        this.setState({\n          apiCalled: false,\n          chartData: [{\n            text: 'Minimum Temperature',\n            value: min\n          }, {\n            text: 'Maximum Temperature',\n            value: max\n          }]\n        });\n        this.getWeeklyData();\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    }\n  }\n\n  handleInputChange(value) {\n    this.setState({\n      citiesData: []\n    });\n    fetch(\"http://dataservice.accuweather.com/locations/v1/cities/search/?q=\" + value + \"&apikey=\" + this.state.apiKey + \"&language=en-us\").then(res => res.json()).then(result => {\n      this.setState({\n        locationData: JSON.stringify(result)\n      });\n      const data = JSON.parse(this.state.locationData);\n      this.jsonData = data;\n\n      for (let i = 0; i < data.length; i++) {\n        this.state.citiesData.push({\n          label: data[i].LocalizedName + \",\" + data[i].AdministrativeArea.LocalizedName + \",\" + data[i].Country.LocalizedName,\n          value: i\n        });\n      }\n\n      this.setState({\n        viewSelect: true,\n        apiCalled: true,\n        selectedOption: null\n      });\n    }, error => {\n      this.setState({\n        error\n      });\n    });\n  }\n\n}\n\nexport default WeatherMain;","map":{"version":3,"sources":["/Users/junaidsaleem/Desktop/weatherApp/weather/React/src/components/WeatherComponent.js"],"names":["React","Component","Select","Container","Header","Footer","Row","Col","BarChart","WeatherMain","constructor","props","handleChange","selected","setState","selectedOption","state","locationData","temperatureData","apiKey","error","citiesData","viewSelect","dailyForecast","weeklyForecast","apiCalled","width","chartData","text","value","weeklyData","handleInputChange","bind","getDayData","getWeeklyData","jsonData","render","margin","top","right","bottom","left","weeklyForecastList","map","d","date","minimum","maximum","data","max","min","city","Key","fetch","then","res","json","result","i","DailyForecasts","length","Temperature","Minimum","Value","Maximum","dateObj","Date","push","toDateString","console","log","JSON","stringify","parse","label","LocalizedName","AdministrativeArea","Country"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Select from 'react-select';\nimport Container from 'react-bootstrap/Container';\nimport Header from './header';\nimport Footer from './footer';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport BarChart from 'react-bar-chart';\n\nclass WeatherMain extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            locationData: [],\n            temperatureData: [],\n            apiKey: 'A43x9TpjZ8ukNRKtJWvNJ1QQNFSbsntw',\n            error: null,\n            citiesData: [],\n            viewSelect: false,\n            selectedOption: null,\n            dailyForecast: null,\n            weeklyForecast: null,\n            apiCalled: true,\n            width: 400,\n            chartData: [\n                { text: 'Minimum Temperature', value: 0 },\n                { text: 'Maximum Temperature', value: 0 }\n            ],\n            weeklyData: []\n        };\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.getDayData = this.getDayData.bind(this);\n        this.getWeeklyData = this.getWeeklyData.bind(this);\n        this.jsonData = null;\n    }\n\n    render() {\n        const margin = { top: 20, right: 0, bottom: 30, left: 40 };\n        const weeklyForecastList = this.state.weeklyData.map((d) =>\n            <div>\n                <li>Date: {d.date}</li>\n                <li>Minimum: {d.minimum}F</li>\n                <li>Maximum: {d.maximum}F</li>\n                <br></br>\n            </div>\n        );\n        return (\n            <div>\n                <Header />\n                <Container>\n                    <br></br>\n                    <Row className=\"justify-content-md-center\">\n                        <Col lg=\"4\">\n                            <Select\n                                placeholder=\"Search a city\"\n                                options={this.state.citiesData}\n                                onInputChange={this.handleInputChange}\n                                onChange={this.handleChange}\n                            />\n                        </Col>\n                    </Row>\n                    <Row className=\"justify-content-md-center\">\n                        <Col lg=\"4\">\n                            <br></br>\n                            <h3> Daily Temperature Graph</h3>\n                        </Col>\n                    </Row>\n                    {this.getDayData()}\n                    <Row className=\"justify-content-md-center\">\n                        <Col lg=\"4\">\n                            <BarChart ylabel='Daily Forecast in F'\n                                width={this.state.width}\n                                height={500}\n                                margin={margin}\n                                data={this.state.chartData} />\n                        </Col>\n                    </Row>\n                    <Row className=\"justify-content-md-center\">\n                        <Col lg=\"4\">\n                            <br></br>\n                            <h3> Weekly Forecast</h3>\n                        </Col>\n                    </Row>\n                    <Row className=\"justify-content-md-center\">\n                        <Col lg=\"4\">\n                            {weeklyForecastList}\n                        </Col>\n                    </Row>\n                </Container>\n                <Footer />\n            </div>\n        )\n    }\n\n    getWeeklyData() {\n        const data = this.jsonData;\n        let max = null, min = null;\n        if (this.state.selectedOption != null) {\n            const city = data[this.state.selectedOption.value].Key\n            fetch(\"http://dataservice.accuweather.com/forecasts/v1/daily/5day/\" + city + \"?apikey=\" + this.state.apiKey + \"&language=en-us\")\n                .then(res => res.json())\n                .then(\n                    (result) => {\n                        this.setState({\n                            weeklyForecast: result\n                        });\n                        const data = this.state.weeklyForecast;\n                        if (data != null) {\n                            for (let i = 0; i < data.DailyForecasts.length && this.state.weeklyData.length < 5; i++) {\n                                min = data.DailyForecasts[i].Temperature.Minimum.Value\n                                max = data.DailyForecasts[i].Temperature.Maximum.Value\n                                let dateObj = new Date(data.DailyForecasts[i].Date)\n                                this.state.weeklyData.push(\n                                    { minimum: min, maximum: max, date: dateObj.toDateString() }\n                                )\n                            }\n                            console.log(this.state.weeklyData)\n                        }\n                    },\n                    (error) => {\n                        this.setState({\n                            error\n                        });\n                    }\n                )\n        }\n    }\n\n    getDayData() {\n        const data = this.jsonData;\n        let max = null, min = null;\n        if (this.state.selectedOption != null && this.state.apiCalled) {\n            const city = data[this.state.selectedOption.value].Key\n            fetch(\"http://dataservice.accuweather.com/forecasts/v1/daily/1day/\" + city + \"?apikey=\" + this.state.apiKey + \"&language=en-us\")\n                .then(res => res.json())\n                .then(\n                    (result) => {\n                        this.setState({\n                            dailyForecast: result\n                        });\n                        const data = this.state.dailyForecast;\n                        if (data != null) {\n                            min = data.DailyForecasts[0].Temperature.Minimum.Value\n                            max = data.DailyForecasts[0].Temperature.Maximum.Value\n                        }\n                        this.setState({\n                            apiCalled: false,\n                            chartData: [\n                                { text: 'Minimum Temperature', value: min },\n                                { text: 'Maximum Temperature', value: max }\n                            ]\n                        });\n                        this.getWeeklyData()\n                    },\n                    (error) => {\n                        this.setState({\n                            error\n                        });\n                    }\n                )\n        }\n    }\n\n    handleChange = (selected) => {\n        this.setState({\n            selectedOption: selected,\n        });\n    };\n\n    handleInputChange(value) {\n        this.setState({\n            citiesData: []\n        })\n        fetch(\"http://dataservice.accuweather.com/locations/v1/cities/search/?q=\" + value + \"&apikey=\" + this.state.apiKey + \"&language=en-us\")\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    this.setState({\n                        locationData: JSON.stringify(result)\n                    });\n                    const data = JSON.parse(this.state.locationData)\n                    this.jsonData = data;\n                    for (let i = 0; i < data.length; i++) {\n                        this.state.citiesData.push({ label: data[i].LocalizedName + \",\" + data[i].AdministrativeArea.LocalizedName + \",\" + data[i].Country.LocalizedName, value: i })\n                    }\n                    this.setState({\n                        viewSelect: true,\n                        apiCalled: true,\n                        selectedOption: null\n                    })\n                },\n                (error) => {\n                    this.setState({\n                        error\n                    });\n                }\n            )\n    }\n}\n\nexport default WeatherMain;"]},"metadata":{},"sourceType":"module"}